---
title: Migrating to Jest
date: 2016-11-14
description: on the P2P team at PayPal
meta:
  keywords:
    - javascript
    - react
    - jest
    - testing
    - Nodejs
bannerCloudinaryId: unsplash/photo-1470175369463-7bb9f41e614b
bannerCredit: '[https://unsplash.com/photos/_dwwHrYRWcM](https://unsplash.com/photos/_dwwHrYRWcM)'
---

### The Migration

#### Client Side

My coworker [Jamund Ferguson](https://twitter.com/xjamundx) did most of the work
for migrating our React tests from AVA. We were really helped by
[this codemod](https://github.com/skovhus/jest-codemods) by
[Kenneth Skovhus](https://twitter.com/kenneth_skovhus). This saved us a ton of
time manually updating our tests to work with Jest.

There were still some places we had to work through and we definitely had to
configure Jest in some special ways to handle our scenario. We have both server
and UI code in a single repo and each side gets its own special `.babelrc` which
complicated things slightly and we had some odd behaviors with some browser
globals, but for the most part it was pretty solid. We also had to migrate our
usage of [proxyquire](https://npmjs.com/package/proxyquire) to Jest's (superior)
built-in
[mocking capabilities](http://facebook.github.io/jest/docs/manual-mocks.html).

After getting that merged, a week or two later I migrated the old mocha UI
tests. Luckily Jest actually works with _most_ of mocha's globals so that
migration was relatively simple. Just some slight config changes and
find/replace some stuff. Pretty easy...
